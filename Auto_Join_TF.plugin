#!name = Automatic TestFlight Joiner
#!desc = Automatically monitors TestFlight availability and instantly joins when new slots become available.
#!openUrl = 
#!author = DecoAri xream
#!homepage = https://gitlab.com/lodepuly/vpn_tool/-/tree/master/Tool/Loon/Plugin
#!icon = https://gitlab.com/lodepuly/iconlibrary/-/raw/main/App_icon/120px/TestFlight.png
#!input = APP_ID
#!date = 2024-03-07 22:10:30

[Rule]
DOMAIN, testflight.apple.com, PROXY

[Script]
http-request ^https?:\/\/testflight\.apple\.com\/v3\/accounts\/.*\/apps$ script-path = https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Resource/Script/TestFlight/TF_keys.js, tag = TF Information Acquisition
http-request ^https://testflight.apple.com/join/(.*) script-path = https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Resource/Script/TestFlight/TF_keys.js, tag = APP_ID Acquisition
cron "*/1 * * * * *" script-path = https://gitlab.com/lodepuly/vpn_tool/-/raw/master/Resource/Script/TestFlight/Auto_join_TF.js, tag = Automatic Join TF, timeout = 180

[Mitm]
hostname = testflight.apple.com
